<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="773.75px" preserveAspectRatio="none" style="width:1357px;height:773px;" version="1.1" viewBox="0 0 1357 773" width="1357.5px" zoomAndPan="magnify"><defs><filter height="300%" id="fhts7lj48tltq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.5"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.0" dy="5.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="614.7656" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="66.875" y="92.4512"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="603.5156" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="260.625" y="92.4512"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="503.125" y="130.3906"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="503.125" y="205.8301"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="619.375" y="281.2695"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="735.625" y="583.0273"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="830.625" y="356.709"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1188.75" y="432.1484"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1188.75" y="507.5879"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1295" y="658.4668"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="72.5" x2="72.5" y1="52.0117" y2="718.4668"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="266.25" x2="266.25" y1="52.0117" y2="718.4668"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="509.375" x2="509.375" y1="52.0117" y2="718.4668"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="625.625" x2="625.625" y1="52.0117" y2="718.4668"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="741.875" x2="741.875" y1="52.0117" y2="718.4668"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="836.875" x2="836.875" y1="52.0117" y2="718.4668"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="910.625" x2="910.625" y1="52.0117" y2="718.4668"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1043.125" x2="1043.125" y1="52.0117" y2="718.4668"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1194.375" x2="1194.375" y1="52.0117" y2="718.4668"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1300.625" x2="1300.625" y1="52.0117" y2="718.4668"/><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="128.75" x="6.25" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="111.25" x="15" y="33.1665">:ClosestPortUI</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="128.75" x="6.25" y="717.2168"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="111.25" x="15" y="744.1333">:ClosestPortUI</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="191.25" x="168.75" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="173.75" x="177.5" y="33.1665">:ClosestPortController</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="191.25" x="168.75" y="717.2168"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="173.75" x="177.5" y="744.1333">:ClosestPortController</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="97.5" x="458.125" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="80" x="466.875" y="33.1665">:Company</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="97.5" x="458.125" y="717.2168"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="80" x="466.875" y="744.1333">:Company</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="100" x="573.125" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="82.5" x="581.875" y="33.1665">:ShipStore</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="100" x="573.125" y="717.2168"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="82.5" x="581.875" y="744.1333">:ShipStore</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="97.5" x="690.625" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="80" x="699.375" y="33.1665">:PortStore</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="97.5" x="690.625" y="717.2168"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="80" x="699.375" y="744.1333">:PortStore</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="57.5" x="805.625" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="40" x="814.375" y="33.1665">:Ship</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="57.5" x="805.625" y="717.2168"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="40" x="814.375" y="744.1333">:Ship</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="55" x="880.625" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="37.5" x="889.375" y="33.1665">:Port</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="55" x="880.625" y="717.2168"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="37.5" x="889.375" y="744.1333">:Port</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="175" x="953.125" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="157.5" x="961.875" y="33.1665">:Treeset&lt;Message&gt;</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="175" x="953.125" y="717.2168"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="157.5" x="961.875" y="744.1333">:Treeset&lt;Message&gt;</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="93.75" x="1145.625" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="76.25" x="1154.375" y="33.1665">:Message</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="93.75" x="1145.625" y="717.2168"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="76.25" x="1154.375" y="744.1333">:Message</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="83.75" x="1256.875" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="66.25" x="1265.625" y="33.1665">:KDTree</text><rect fill="#FEFECE" filter="url(#fhts7lj48tltq)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="83.75" x="1256.875" y="717.2168"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="66.25" x="1265.625" y="744.1333">:KDTree</text><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="614.7656" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="66.875" y="92.4512"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="603.5156" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="260.625" y="92.4512"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="503.125" y="130.3906"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="503.125" y="205.8301"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="619.375" y="281.2695"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="735.625" y="583.0273"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="830.625" y="356.709"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1188.75" y="432.1484"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1188.75" y="507.5879"/><rect fill="#FFFFFF" filter="url(#fhts7lj48tltq)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1295" y="658.4668"/><polygon fill="#A80036" points="245.625,87.4512,258.125,92.4512,245.625,97.4512,250.625,92.4512" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="79.375" x2="253.125" y1="92.4512" y2="92.4512"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="88.125" y="86.3806">1</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="150" x="101.875" y="86.3806">closestPort(callSign)</text><polygon fill="#A80036" points="488.125,125.3906,500.625,130.3906,488.125,135.3906,493.125,130.3906" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="273.125" x2="495.625" y1="130.3906" y2="130.3906"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="281.875" y="124.3201">2</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="192.5" x="295.625" y="124.3201">shipStore = getShipStore()</text><polygon fill="#A80036" points="488.125,200.8301,500.625,205.8301,488.125,210.8301,493.125,205.8301" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="273.125" x2="495.625" y1="205.8301" y2="205.8301"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="281.875" y="199.7595">3</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="187.5" x="295.625" y="199.7595">portStore = getPortStore()</text><polygon fill="#A80036" points="604.375,276.2695,616.875,281.2695,604.375,286.2695,609.375,281.2695" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="273.125" x2="611.875" y1="281.2695" y2="281.2695"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="281.875" y="275.199">4</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="172.5" x="295.625" y="275.199">ship = getShip(callSign)</text><polygon fill="#A80036" points="815.625,351.709,828.125,356.709,815.625,361.709,820.625,356.709" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="273.125" x2="823.125" y1="356.709" y2="356.709"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="281.875" y="350.6384">5</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="253.75" x="295.625" y="350.6384">message = getAllMessages().last()</text><polygon fill="#A80036" points="1173.75,427.1484,1186.25,432.1484,1173.75,437.1484,1178.75,432.1484" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="273.125" x2="1181.25" y1="432.1484" y2="432.1484"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="281.875" y="426.0779">6</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="162.5" x="295.625" y="426.0779">latitude = getLatitude()</text><polygon fill="#A80036" points="1173.75,502.5879,1186.25,507.5879,1173.75,512.5879,1178.75,507.5879" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="273.125" x2="1181.25" y1="507.5879" y2="507.5879"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="281.875" y="501.5173">7</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="187.5" x="295.625" y="501.5173">longitude = getLongitude()</text><polygon fill="#A80036" points="720.625,578.0273,733.125,583.0273,720.625,588.0273,725.625,583.0273" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="273.125" x2="728.125" y1="583.0273" y2="583.0273"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="281.875" y="576.9568">8</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="122.5" x="295.625" y="576.9568">kdtree = getKdt()</text><polygon fill="#A80036" points="1280,653.4668,1292.5,658.4668,1280,663.4668,1285,658.4668" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="273.125" x2="1287.5" y1="658.4668" y2="658.4668"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="281.875" y="652.3962">9</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="272.5" x="295.625" y="652.3962">port = closestPort(latitude, longittude)</text><!--MD5=[b886f6aa8e80079aefb6f12ff344d275]
@startuml
'https://plantuml.com/sequence-diagram

autonumber
participant ":ClosestPortUI" as ui
participant ":ClosestPortController" as controller
participant ":Company" as company

participant ":ShipStore" as shipStore
participant ":PortStore" as portStore
participant ":Ship" as ship

participant ":Port" as port
participant ":Treeset<Message>" as messagesset
participant ":Message" as messages
participant ":KDTree" as kdtree

ui -> controller:closestPort(callSign)
activate ui
activate controller
controller -> company: shipStore = getShipStore()
activate company
deactivate company
controller -> company: portStore = getPortStore()
activate company
deactivate company
controller -> shipStore: ship = getShip(callSign)
activate shipStore
deactivate shipStore
controller -> ship: message = getAllMessages().last()
activate ship
deactivate ship

controller -> messages: latitude = getLatitude()
activate messages
deactivate messages
controller -> messages: longitude = getLongitude()
activate messages
deactivate messages
controller -> portStore: kdtree = getKdt()
activate portStore
deactivate portStore
controller -> kdtree: port = closestPort(latitude, longittude)
activate kdtree
deactivate kdtree
deactivate controller

@enduml

@startuml

autonumber
participant ":ClosestPortUI" as ui
participant ":ClosestPortController" as controller
participant ":Company" as company

participant ":ShipStore" as shipStore
participant ":PortStore" as portStore
participant ":Ship" as ship

participant ":Port" as port
participant ":Treeset<Message>" as messagesset
participant ":Message" as messages
participant ":KDTree" as kdtree

ui -> controller:closestPort(callSign)
activate ui
activate controller
controller -> company: shipStore = getShipStore()
activate company
deactivate company
controller -> company: portStore = getPortStore()
activate company
deactivate company
controller -> shipStore: ship = getShip(callSign)
activate shipStore
deactivate shipStore
controller -> ship: message = getAllMessages().last()
activate ship
deactivate ship

controller -> messages: latitude = getLatitude()
activate messages
deactivate messages
controller -> messages: longitude = getLongitude()
activate messages
deactivate messages
controller -> portStore: kdtree = getKdt()
activate portStore
deactivate portStore
controller -> kdtree: port = closestPort(latitude, longittude)
activate kdtree
deactivate kdtree
deactivate controller

@enduml

PlantUML version 1.2021.4(Sun Apr 04 09:49:39 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>